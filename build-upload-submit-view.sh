#/bin/bash

mvn clean package -Dmaven.test.skip=true
azcopy copy "/mnt/c/Users/anildwa/source/repos/nyctaxidataspark/nyctaxidata/target/nyctaxidata-1.0.jar" "https://anildwaadlsv2.dfs.core.windows.net/jars/nyctaxidata-1.0.jar"
/home/anildwa/spark/spark-3.0.0-preview2-bin-hadoop3.2./bin/spark-submit     --class org.anildwa.spark.NycTaxiData    --master k8s://http://127.0.0.1:8001/   --deploy-mode cluster    --num-executors 2    --driver-memory 8g     --executor-memory 8g     --executor-cores 3      --conf spark.eventLog.enabled=true --conf spark.eventLog.dir=abfss://spark-event-logs@anildwaadlsv2.dfs.core.windows.net/logs   --conf spark.kubernetes.driver.volumes.hostPath.aksvm.mount.path=/mnt --conf spark.kubernetes.driver.volumes.hostPath.aksvm.options.path=/tmp  --conf spark.kubernetes.namespace=spark  --conf spark.kubernetes.authenticate.driver.serviceAccountName=spark-sa  --conf spark.kubernetes.container.image=anildwa/spark-submit:1.0 --conf spark.hadoop.fs.azure.account.key.anildwaadlsv2.dfs.core.windows.net=Vr45Y7PZqw4aXt8Y59/khCI6/Po2WXlyUvt/aiIPaY/T786nFwDiw3624tUFvItSLeHGAAh5ozjXWBWINH3wQQ==   abfss://jars@anildwaadlsv2.dfs.core.windows.net/nyctaxidata-1.0.jar abfss://nytaxidata@anildwaadlsv2.dfs.core.windows.net/input abfss://nytaxidata@anildwaadlsv2.dfs.core.windows.net/output
azcopy copy "https://anildwaadlsv2.blob.core.windows.net/nytaxidata/metrics/metrics.txt" "/mnt/c/Users/anildwa/Downloads/metrics.txt"
cat /mnt/c/Users/anildwa/Downloads/metrics.txt